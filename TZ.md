ТЗ: Нейро-помощник NL→SQL
1. Цель проекта
Делаем помощника, который понимает обычный русский язык и переводит его в план SQL-запроса.
 Зачем:
 Пользователю не нужно учить SQL. Он пишет простыми словами: «Покажи заказы за 3 дня», а система сама строит план запроса.
Система сама добавляет ограничения по ролям (например, менеджер видит только свой филиал).
Можно использовать как внутри Core Platform, так и через Telegram-бота (по желанию).
Все данные и серверы находятся в России, соблюдаем 152-ФЗ и другие законы о защите персональных данных.
2. Как работает система (мини-архитектура)
Пользователь пишет запрос — «Покажи всех клиентов категории А».
API-сервис на Python (FastAPI) принимает запрос.
Каталог схем подсказывает модели, какие таблицы и поля есть в базе.
Модель ИИ (LLM) через Ollama или vLLM понимает текст и делает план запроса (в JSON или XML).
Core Platform собирает SQL из плана, добавляя служебные компоненты и ограничения ролевой модели.
СУБД PostgreSQL выполняет запрос, но учитывает правила безопасности (Row Level Security).
Фронтенд на React показывает ответ красиво в таблице или графике.
(Опция) Telegram-бот тоже может получать запросы и выдавать ответы — Core Platform может вернуть в бот результаты запроса.
3. Технологии (понятно и по пунктам)
Python + FastAPI — пишем сервер (бэкенд), обрабатывает запросы.
React — делаем веб-интерфейс (фронтенд), там будут таблицы и кнопки.
Ollama — удобный способ запускать модели прямо на своём компьютере или сервере. Хорошо для тестов.
vLLM — быстрый сервер для работы модели в «продакшн» (реальных нагрузках).
llama.cpp — если мало ресурсов, можно запускать модели даже на обычных CPU.
Модели ИИ:
Qwen 2.5 — умеет русский язык, открытые веса.


Llama 3.1 — мощная модель, работает и с длинными запросами.


PostgreSQL — база данных с настройкой прав пользователей (RLS).
Telegram Bot API — чтобы сделать бота-ассистента.
OWASP рекомендации — чтобы защитить систему от взлома и вредных запросов.
4. Примеры работы
Пример 1.
 Вопрос: «Покажи заказы старше 3 дней из категории А больше 1 млн рублей».
 Результат: таблица с заказами, сгруппированными по клиенту, отсортированная по сумме.
Пример 2.
 Вопрос: «Из чего сделан продукт #876?»
 Результат: «Продукт #876 изготовлен из алюминия», ответ взят из базы описаний.
Пример 3.
 Вопрос: «Когда будет совещание по маркетингу?»
 Результат: «Совещание по маркетингу запланировано на 3 октября 2025 в 11:00».
5. Основные функции
Отвечает на вопросы про базу данных и про компанию.
Может вести короткий диалог («а только за октябрь?», «а только по филиалу Москва?»).
Учитывает права пользователя (видно только то, что разрешено).
Поддерживает два режима:
Встроенный модуль в Core Platform.


Telegram-бот (по желанию).


6. Нефункциональные требования
Скорость: хотим, чтобы простой ответ занимал 6–16 секунд. Тяжёлые запросы можно дольше — до 2 минут.
Надёжность: сервис должен работать стабильно (99,5% времени доступен).
Качество: проверяем на тестах — запросы должны совпадать с ожидаемыми результатами.
7. Безопасность (коротко)
Все данные хранятся и обрабатываются в России (152-ФЗ, 242-ФЗ).
У каждого пользователя своя роль и свои права.
Все соединения шифруются.
Telegram-бот безопасный, но не используем его для персональных данных.
Проверяем, чтобы модель не могла обойти ограничения и «подсмотреть лишнее».




---
src: https://docs.google.com/document/d/10-E5RCsWAY-MhRbVFWRLqH--1wHMDKsHxIeRjoBZux8/edit?tab=t.0#heading=h.itg026a6vn9e
