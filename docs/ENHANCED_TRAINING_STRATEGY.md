# –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—É—á–µ–Ω–∏—è NL‚ÜíSQL –∞–≥–µ–Ω—Ç–∞

## üìä **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏**

### ‚úÖ **–ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞:**

1. **DocStructureSchema/** - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ JSON/XML
   - `EQDocTypes.json` - –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–∞–±–ª–∏—Ü—ã
   - `EQUsers.json` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
   - `EQCategories.json` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –ò –¥—Ä—É–≥–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

2. **TradecoTemplateTestDB.sql** - –î–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –∏ —Å–≤—è–∑–µ–π

3. **–¢–ó.md** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### ‚ùå **–ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è:**

1. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –Ω–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
2. **–°–ª–∞–±–∞—è —Å–≤—è–∑—å —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π** - –∞–≥–µ–Ω—Ç –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏** - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã

## üéØ **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—É—á–µ–Ω–∏—è**

### **–≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**

#### **1.1 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-—Ç–∞–±–ª–∏—Ü –∏–∑ DocStructureSchema**
```python
def extract_business_tables_from_schema():
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Ç–∞–±–ª–∏—Ü—ã –∏–∑ —Å—Ö–µ–º—ã –∑–∞–∫–∞–∑—á–∏–∫–∞"""
    
    # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–∏–∑ –∞–Ω–∞–ª–∏–∑–∞ EQDocTypes.json)
    priority_tables = [
        "equsers",           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
        "eq_departments",    # –û—Ç–¥–µ–ª—ã  
        "eqgroups",          # –ì—Ä—É–ø–ø—ã
        "eqroles",           # –†–æ–ª–∏
        "tbl_business_unit", # –ö–ª–∏–µ–Ω—Ç—ã
        "tbl_principal_assignment", # –ü–æ—Ä—É—á–µ–Ω–∏—è
        "tbl_incoming_payments",    # –ü–ª–∞—Ç–µ–∂–∏
        "tbl_accounts_document",    # –£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏
        "tbl_personal_account"      # –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã
    ]
    
    # –ò—Å–∫–ª—é—á–∞–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã
    excluded_tables = [
        "tbl_subd_admin",
        "tbl_subd_admin_log", 
        "tbl_regex_patterns",
        "tbl_integration_files",
        "tbl_integration_log",
        "tbl_javascript_exception_handler",
        "tbl_notification",
        "tbl_activity_log"
    ]
    
    return priority_tables, excluded_tables
```

#### **1.2 –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
```python
def create_business_context():
    """–°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ DocStructureSchema"""
    
    business_context = {
        "system_purpose": "–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—É—á–µ–Ω–∏—è–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏",
        "main_entities": {
            "users": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)",
            "clients": "–ö–ª–∏–µ–Ω—Ç—ã/–±–∏–∑–Ω–µ—Å-–µ–¥–∏–Ω–∏—Ü—ã", 
            "assignments": "–ü–æ—Ä—É—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º",
            "payments": "–ü–ª–∞—Ç–µ–∂–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤"
        },
        "business_flows": [
            "–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—É—á–µ–Ω–∏—è ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –ü–ª–∞—Ç–µ–∂",
            "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ ‚Üí –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—É—á–µ–Ω–∏—è–º–∏"
        ]
    }
    
    return business_context
```

### **–≠—Ç–∞–ø 2: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö**

#### **2.1 –§–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ —Å—Ö–µ–º–µ**
```python
def train_on_filtered_schema(self):
    """–û–±—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö"""
    
    # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
    priority_tables, excluded_tables = extract_business_tables_from_schema()
    
    # –°–æ–∑–¥–∞–µ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å—Ö–µ–º—ã
    schema_query = f"""
    SELECT 
        table_name,
        column_name,
        data_type,
        is_nullable,
        column_default,
        character_maximum_length
    FROM information_schema.columns 
    WHERE table_schema = 'public'
    AND table_name IN ({','.join([f"'{t}'" for t in priority_tables])})
    ORDER BY table_name, ordinal_position
    """
    
    df_schema = self.vanna.run_sql(schema_query)
    plan = self.vanna.get_training_plan_generic(df_schema)
    self.vanna.train(plan=plan)
    
    return True
```

#### **2.2 –û–±–æ–≥–∞—â–µ–Ω–∏–µ SQL –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º**
```python
def enhance_sql_examples_with_context():
    """–û–±–æ–≥–∞—â–∞–µ—Ç SQL –ø—Ä–∏–º–µ—Ä—ã –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º"""
    
    enhanced_examples = []
    
    # –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
    examples = [
        {
            "question": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã",
            "sql": "SELECT id, login, email, surname, firstname FROM equsers WHERE deleted = false",
            "context": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã",
            "business_entity": "users",
            "complexity": 1
        },
        {
            "question": "–ö–∞–∫–∏–µ –æ—Ç–¥–µ–ª—ã –µ—Å—Ç—å –≤ –∫–æ–º–ø–∞–Ω–∏–∏?",
            "sql": "SELECT id, departmentname, parentid FROM eq_departments WHERE deleted = false",
            "context": "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞",
            "business_entity": "departments", 
            "complexity": 1
        },
        {
            "question": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏",
            "sql": "SELECT id, business_unit_name, inn, phone, email FROM tbl_business_unit WHERE deleted = false",
            "context": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑–æ–π",
            "business_entity": "clients",
            "complexity": 1
        }
    ]
    
    return enhanced_examples
```

### **–≠—Ç–∞–ø 3: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ**

#### **3.1 –û–±—É—á–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏**
```python
def train_by_complexity_levels():
    """–û–±—É—á–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"""
    
    levels = {
        "level_1_basic": [
            "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
            "–°–ø–∏—Å–æ–∫ –æ—Ç–¥–µ–ª–æ–≤", 
            "–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã"
        ],
        "level_2_joins": [
            "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ –æ—Ç–¥–µ–ª–∞–º",
            "–ü–æ—Ä—É—á–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏",
            "–ü–ª–∞—Ç–µ–∂–∏ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º"
        ],
        "level_3_aggregation": [
            "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º",
            "–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –º–µ—Å—è—Ü–∞–º",
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—É—á–µ–Ω–∏–π –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º"
        ],
        "level_4_complex": [
            "–ü–æ—Ä—É—á–µ–Ω–∏—è —Å—Ç–∞—Ä—à–µ 3 –¥–Ω–µ–π –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ê –±–æ–ª—å—à–µ 1 –º–ª–Ω —Ä—É–±–ª–µ–π",
            "–¢–æ–ø-10 –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å—É–º–º–µ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–≤–∞—Ä—Ç–∞–ª",
            "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ –∏ –∏—Ö –æ—Ç–¥–µ–ª—ã"
        ]
    }
    
    return levels
```

#### **3.2 –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑ –¢–ó**
```python
def train_on_tz_examples():
    """–û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è"""
    
    tz_examples = [
        {
            "question": "–ü–æ–∫–∞–∂–∏ –∑–∞–∫–∞–∑—ã —Å—Ç–∞—Ä—à–µ 3 –¥–Ω–µ–π –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ê –±–æ–ª—å—à–µ 1 –º–ª–Ω —Ä—É–±–ª–µ–π",
            "sql": """
            SELECT pa.assignment_number, pa.assignment_date, pa.amount, 
                   bu.business_unit_name, bu.category
            FROM tbl_principal_assignment pa
            JOIN tbl_business_unit bu ON pa.business_unit_id = bu.id
            WHERE pa.assignment_date < CURRENT_DATE - INTERVAL '3 days'
            AND bu.category = 'A'
            AND pa.amount > 1000000
            ORDER BY pa.amount DESC
            """,
            "context": "–°–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏",
            "business_entity": "assignments",
            "complexity": 4
        },
        {
            "question": "–ò–∑ —á–µ–≥–æ —Å–¥–µ–ª–∞–Ω –ø—Ä–æ–¥—É–∫—Ç #876?",
            "sql": """
            SELECT product_name, material, description
            FROM tbl_products 
            WHERE id = 876
            """,
            "context": "–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ",
            "business_entity": "products",
            "complexity": 2
        }
    ]
    
    return tz_examples
```

### **–≠—Ç–∞–ø 4: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**

#### **4.1 –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö**
```python
def train_on_business_processes():
    """–û–±—É—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞—Ö"""
    
    business_processes = [
        {
            "process": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—É—á–µ–Ω–∏—è–º–∏",
            "examples": [
                "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ—Ä—É—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É",
                "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–æ—Ä—É—á–µ–Ω–∏—è –≤ —Ä–∞–±–æ—Ç–µ",
                "–ù–∞–π—Ç–∏ –ø–æ—Ä—É—á–µ–Ω–∏—è –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç—É",
                "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Ä—É—á–µ–Ω–∏–π"
            ]
        },
        {
            "process": "–†–∞–±–æ—Ç–∞ —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏", 
            "examples": [
                "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ –º–µ—Å—è—Ü",
                "–ù–∞–π—Ç–∏ –ø–ª–∞—Ç–µ–∂–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞",
                "–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º",
                "–ü–ª–∞—Ç–µ–∂–∏ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º"
            ]
        },
        {
            "process": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏",
            "examples": [
                "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ –æ—Ç–¥–µ–ª–∞–º",
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏",
                "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"
            ]
        }
    ]
    
    return business_processes
```

## üöÄ **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è**

### **–°–∫—Ä–∏–ø—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è:**
```python
def enhanced_training_pipeline():
    """–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–±—É—á–µ–Ω–∏—è"""
    
    # 1. –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è
    priority_tables, excluded_tables = extract_business_tables_from_schema()
    business_context = create_business_context()
    
    # 2. –§–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ —Å—Ö–µ–º–µ
    train_on_filtered_schema(priority_tables)
    
    # 3. –û–±–æ–≥–∞—â–µ–Ω–Ω—ã–µ SQL –ø—Ä–∏–º–µ—Ä—ã
    enhanced_examples = enhance_sql_examples_with_context()
    train_on_examples(enhanced_examples)
    
    # 4. –û–±—É—á–µ–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
    complexity_levels = train_by_complexity_levels()
    for level, examples in complexity_levels.items():
        train_on_examples(examples)
    
    # 5. –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∏–∑ –¢–ó
    tz_examples = train_on_tz_examples()
    train_on_examples(tz_examples)
    
    # 6. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
    business_processes = train_on_business_processes()
    train_on_business_context(business_processes)
    
    return True
```

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

### **1. –ö–∞—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL:**
- ‚úÖ **–õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –∞–≥–µ–Ω—Ç –∑–Ω–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü** - —Ñ–æ–∫—É—Å –Ω–∞ –≤–∞–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü

### **2. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤:**
- ‚úÖ **–ë–∏–∑–Ω–µ—Å-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –∑–∞–ø—Ä–æ—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å** - –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¢–ó

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ –æ–±—É—á–µ–Ω–∏–µ** - –º–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **–õ—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ** - —Ñ–æ–∫—É—Å –Ω–∞ –≤–∞–∂–Ω–æ–º
- ‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è**
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö**
3. **–°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –æ–±—É—á–µ–Ω–∏–µ–º**
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

---
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-11  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –æ–±—É—á–µ–Ω–∏—è
