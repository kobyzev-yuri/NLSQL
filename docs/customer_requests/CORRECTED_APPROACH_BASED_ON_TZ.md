# –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ø–æ–¥—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¢–ó

## üîç –ê–Ω–∞–ª–∏–∑ –¢–ó vs —Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥

### ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –º–æ–µ–º –ø–æ–¥—Ö–æ–¥–µ:**

1. **LLM –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ü–õ–ê–ù, –∞ –Ω–µ SQL**:
   - ‚ùå **–ú–æ–π –ø–æ–¥—Ö–æ–¥**: –û–±—É—á–∞—é –∞–≥–µ–Ω—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SQL –Ω–∞–ø—Ä—è–º—É—é
   - ‚úÖ **–ü–æ –¢–ó**: LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –∑–∞–ø—Ä–æ—Å–∞ (JSON/XML), Core Platform —Å–æ–±–∏—Ä–∞–µ—Ç SQL

2. **–†–æ–ª–µ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è - –∑–∞–¥–∞—á–∞ Core Platform**:
   - ‚ùå **–ú–æ–π –ø–æ–¥—Ö–æ–¥**: –ü—Ä–æ—Å–∏–ª –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–µ–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
   - ‚úÖ **–ü–æ –¢–ó**: "–°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–æ–ª—è–º", Core Platform –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM**:
   - ‚úÖ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ**: Llama 3.1/Ollama (–ª–æ–∫–∞–ª—å–Ω–æ) vs OpenAI (–º–æ—â–Ω—ã–µ)
   - ‚úÖ **–ü–æ–¥—Ö–æ–¥**: –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –≤—ã–±–∏—Ä–∞–µ–º –ª—É—á—à–∏–π

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ RLS**:
   - ‚ùå **–ú–æ–π –ø–æ–¥—Ö–æ–¥**: –ù–µ —É—á–µ–ª RLS –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - ‚úÖ **–ü–æ –¢–ó**: PostgreSQL —Å RLS, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üéØ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –∑–∞–ø—Ä–æ—Å –∫ –∑–∞–∫–∞–∑—á–∏–∫—É

### üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1):

#### A. **–ü—Ä–∏–º–µ—Ä—ã –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤** (–Ω—É–∂–Ω–æ 20-30 –ø—Ä–∏–º–µ—Ä–æ–≤):
```markdown
–ó–ê–ü–†–û–°: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON/XML:

–ü—Ä–∏–º–µ—Ä 1:
–í–æ–ø—Ä–æ—Å: "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ê"
–ü–ª–∞–Ω: {
  "tables": ["tbl_business_unit"],
  "fields": ["business_unit_name", "inn", "phone", "email"],
  "conditions": [{"field": "category", "operator": "=", "value": "A"}],
  "order_by": ["business_unit_name"],
  "limit": null
}

–ü—Ä–∏–º–µ—Ä 2:
–í–æ–ø—Ä–æ—Å: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–∞–∂–¥–æ–º –æ—Ç–¥–µ–ª–µ"
–ü–ª–∞–Ω: {
  "tables": ["equsers", "eq_departments"],
  "fields": ["departmentname", "COUNT(u.id) as user_count"],
  "joins": [{"table": "eq_departments", "on": "d.id = u.department"}],
  "group_by": ["d.id", "departmentname"],
  "order_by": ["user_count DESC"]
}
```

#### B. **–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–ª–∞–Ω–æ–≤** (–∫—Ä–∏—Ç–∏—á–Ω–æ):
```markdown
–ó–ê–ü–†–û–°: –û–ø–∏—à–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤:

1. **–ö–∞–∫–∏–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ –ø–ª–∞–Ω–µ?**
   - tables: —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
   - fields: —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π
   - conditions: —É—Å–ª–æ–≤–∏—è WHERE
   - joins: —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
   - group_by: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
   - order_by: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
   - limit: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

2. **–ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è?**
   - =, !=, <, >, <=, >=
   - LIKE, ILIKE
   - IN, NOT IN
   - BETWEEN
   - IS NULL, IS NOT NULL

3. **–ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã?**
   - COUNT, SUM, AVG, MIN, MAX
   - GROUP_CONCAT, STRING_AGG

4. **–ö–∞–∫ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏?**
   - INNER JOIN, LEFT JOIN, RIGHT JOIN
   - –£—Å–ª–æ–≤–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```

#### C. **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–µ–∑ —Ä–æ–ª–µ–π** (–∫—Ä–∏—Ç–∏—á–Ω–æ):
```markdown
–ó–ê–ü–†–û–°: –û–ø–∏—à–∏—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–ë–ï–ó —Ä–æ–ª–µ–≤—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π):

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**:
   - –ö–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Å–Ω–æ–≤–Ω—ã–µ?
   - –ö–∞–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏?
   - –ö–∞–∫–∏–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã?
   - –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –¥–∞–Ω–Ω—ã–º?

2. **–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã**:
   - –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—ã?
   - –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Ä—É—á–µ–Ω–∏—è?
   - –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∞—é—Ç –ø–ª–∞—Ç–µ–∂–∏?
   - –ö–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –≤–æ–∑–º–æ–∂–Ω—ã?

3. **–¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**:
   - –ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏?
   - –ö–∞–∫–∏–µ –æ—Ç—á–µ—Ç—ã –Ω—É–∂–Ω—ã?
   - –ö–∞–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞–∂–Ω–∞?
```

### üéØ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2):

#### D. **–ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**:
```markdown
–ó–ê–ü–†–û–°: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü:

1. **equsers** - 10-15 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **tbl_business_unit** - 20-30 –∫–ª–∏–µ–Ω—Ç–æ–≤  
3. **tbl_principal_assignment** - 50-100 –ø–æ—Ä—É—á–µ–Ω–∏–π
4. **tbl_incoming_payments** - 100-200 –ø–ª–∞—Ç–µ–∂–µ–π
```

## üìù –§–æ—Ä–º–∞—Ç –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–Ω–∞:
```json
{
  "tables": ["table1", "table2"],
  "fields": ["field1", "field2", "COUNT(*) as count"],
  "conditions": [
    {"field": "field1", "operator": "=", "value": "value1"},
    {"field": "field2", "operator": ">", "value": "value2"}
  ],
  "joins": [
    {"table": "table2", "on": "table1.id = table2.table1_id", "type": "LEFT JOIN"}
  ],
  "group_by": ["field1"],
  "order_by": ["field2 DESC"],
  "limit": 100
}
```

### –ü—Ä–∏–º–µ—Ä—ã –ø–ª–∞–Ω–æ–≤:
```json
{
  "question": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ê",
  "plan": {
    "tables": ["tbl_business_unit"],
    "fields": ["business_unit_name", "inn", "phone", "email"],
    "conditions": [{"field": "category", "operator": "=", "value": "A"}],
    "order_by": ["business_unit_name"]
  },
  "category": "–ö–ª–∏–µ–Ω—Ç—ã",
  "complexity": 2,
  "description": "–°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
}
```

## üìä –¶–µ–ª–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ–∫—É—â–µ–µ | –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å | –ò—Ç–æ–≥–æ |
|-----------|---------|----------------|-------|
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** | 4 | 3-4 | 7-8 |
| **–û—Ç–¥–µ–ª—ã** | 0 | 5-6 | 5-6 |
| **–ö–ª–∏–µ–Ω—Ç—ã** | 3 | 3-4 | 6-7 |
| **–ü–æ—Ä—É—á–µ–Ω–∏—è** | 3 | 4-5 | 7-8 |
| **–ü–ª–∞—Ç–µ–∂–∏** | 3 | 3-4 | 6-7 |
| **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** | 0 | 8-10 | 8-10 |
| **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** | 0 | 5-6 | 5-6 |
| **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** | 0 | 4-5 | 4-5 |
| **–ò–¢–û–ì–û** | **14** | **30-38** | **44-52** |

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–∫–∞–∑—á–∏–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç** –ø—Ä–∏–º–µ—Ä—ã –ø–ª–∞–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ (30-38 —à—Ç—É–∫)
2. **–ú—ã –æ–±—É—á–∞–µ–º LLM** –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω—ã, –∞ –Ω–µ SQL
3. **Core Platform** —Å–æ–±–∏—Ä–∞–µ—Ç SQL –∏–∑ –ø–ª–∞–Ω–æ–≤ —Å —Ä–æ–ª–µ–≤—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º** –∫–∞—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞–Ω–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
1. **LLM –º–æ–¥–µ–ª—å**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Llama 3.1/Ollama (–ª–æ–∫–∞–ª—å–Ω–æ) vs OpenAI (–º–æ—â–Ω—ã–µ)
2. **–§–æ—Ä–º–∞—Ç –æ–±—É—á–µ–Ω–∏—è**: –ü–ª–∞–Ω—ã –≤–º–µ—Å—Ç–æ SQL
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: LLM ‚Üí –ü–ª–∞–Ω ‚Üí Core Platform ‚Üí SQL
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: RLS –≤ PostgreSQL

---
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-11  
**–í–µ—Ä—Å–∏—è**: 3.0 (–ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –Ω–∞ –æ—Å–Ω–æ–≤–µ –¢–ó)  
**–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ö–æ–¥–∞  
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ–¥ –¢–ó
